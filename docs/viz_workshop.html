<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Visualizing Data – Code Library</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./benchmarking_workshop.html" rel="next">
<link href="./intro_to_r.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<script src="site_libs/proj4js-2.3.15/proj4.js"></script>
<link href="site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="site_libs/highcharts-9.3.1/highcharts.js"></script>
<script src="site_libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="site_libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/map.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/data.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="site_libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="site_libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="site_libs/highchart-binding-0.9.4/highchart.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./graphics/EARN_logo_primary.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Code Library</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Economic/earn_code_library"> <i class="bi bi-fab fa-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Learn R</li><li class="breadcrumb-item"><a href="./intro_to_r.html">Tutorials</a></li><li class="breadcrumb-item"><a href="./viz_workshop.html">Visualizing Data</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Learn R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Tutorials</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_to_r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installing R &amp; RStudio EARN Talk</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./viz_workshop.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Visualizing Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./benchmarking_workshop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Benchmarking Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prev_bootcamps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EARNCon data bootcamp files</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other Resources</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Code Packages</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./epi_libraries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Packages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stata_binipolate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stata packages</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">R code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidycensus_example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Load Census tables via Tidycensus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./blsR_example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Downloading BLS data via blsR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./weighted_percentiles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Weighted percentiles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./epi_microdata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Load EPI CPS Extracts via epiextractr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inflation_adjusting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inflation adjusting with Realtalk</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Code Repository</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./union_density.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Historical state union density</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./foreign_born_stats_ipumsr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using ipumsr to load immigrant statistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rtw_union.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comparing union density rates in right-to-work versus non-right-to-work states</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./union_premium.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calculate union wage premiums by state and year</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./median_wages_demos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">State-level median wages by demographic</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Stata code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bin_wage_deciles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wage deciles by state</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#welcome-to-the-visualizing-data-training" id="toc-welcome-to-the-visualizing-data-training" class="nav-link active" data-scroll-target="#welcome-to-the-visualizing-data-training">Welcome to the Visualizing Data training</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">1. Introduction</a>
  <ul class="collapse">
  <li><a href="#brief-overview-of-ggplot2" id="toc-brief-overview-of-ggplot2" class="nav-link" data-scroll-target="#brief-overview-of-ggplot2">1.1 Brief overview of <code>ggplot2</code></a></li>
  <li><a href="#philosophy-behind-ggplot2" id="toc-philosophy-behind-ggplot2" class="nav-link" data-scroll-target="#philosophy-behind-ggplot2">1.2 Philosophy behind ggplot2</a></li>
  </ul></li>
  <li><a href="#basic-chart-creation" id="toc-basic-chart-creation" class="nav-link" data-scroll-target="#basic-chart-creation">2. Basic chart creation</a>
  <ul class="collapse">
  <li><a href="#basic-syntax-the-big-three" id="toc-basic-syntax-the-big-three" class="nav-link" data-scroll-target="#basic-syntax-the-big-three">2.1. Basic syntax: The Big Three</a></li>
  <li><a href="#practical-example" id="toc-practical-example" class="nav-link" data-scroll-target="#practical-example">2.2. Practical example</a></li>
  </ul></li>
  <li><a href="#adding-layers-and-customizations" id="toc-adding-layers-and-customizations" class="nav-link" data-scroll-target="#adding-layers-and-customizations">3. Adding layers and customizations</a>
  <ul class="collapse">
  <li><a href="#adding-geometries" id="toc-adding-geometries" class="nav-link" data-scroll-target="#adding-geometries">3.1 Adding geometries</a></li>
  <li><a href="#customizing-aesthetics" id="toc-customizing-aesthetics" class="nav-link" data-scroll-target="#customizing-aesthetics">3.2 Customizing Aesthetics</a></li>
  </ul></li>
  <li><a href="#customizing-plots-with-labels-and-themes" id="toc-customizing-plots-with-labels-and-themes" class="nav-link" data-scroll-target="#customizing-plots-with-labels-and-themes">4. Customizing Plots with labels and themes</a>
  <ul class="collapse">
  <li><a href="#labeling-and-titling" id="toc-labeling-and-titling" class="nav-link" data-scroll-target="#labeling-and-titling">4.1. Labeling and Titling</a></li>
  <li><a href="#adjusting-text-elements" id="toc-adjusting-text-elements" class="nav-link" data-scroll-target="#adjusting-text-elements">4.2. Adjusting Text Elements</a></li>
  <li><a href="#themes-in-ggplot2" id="toc-themes-in-ggplot2" class="nav-link" data-scroll-target="#themes-in-ggplot2">4.3. Themes in <code>ggplot2</code></a></li>
  </ul></li>
  <li><a href="#exporting-your-plot" id="toc-exporting-your-plot" class="nav-link" data-scroll-target="#exporting-your-plot">5. Exporting your plot</a>
  <ul class="collapse">
  <li><a href="#saving-your-ggplot" id="toc-saving-your-ggplot" class="nav-link" data-scroll-target="#saving-your-ggplot">5.1 Saving your ggplot</a></li>
  </ul></li>
  <li><a href="#advanced-plot-types" id="toc-advanced-plot-types" class="nav-link" data-scroll-target="#advanced-plot-types">6. Advanced Plot Types</a>
  <ul class="collapse">
  <li><a href="#faceting-and-multi-panel-plots" id="toc-faceting-and-multi-panel-plots" class="nav-link" data-scroll-target="#faceting-and-multi-panel-plots">6.1. Faceting and Multi-panel Plots</a></li>
  <li><a href="#interactive-charts" id="toc-interactive-charts" class="nav-link" data-scroll-target="#interactive-charts">6.3. Interactive charts</a></li>
  </ul></li>
  <li><a href="#resources-for-layer-based-chart-visualization" id="toc-resources-for-layer-based-chart-visualization" class="nav-link" data-scroll-target="#resources-for-layer-based-chart-visualization">7.0 Resources for layer-based chart visualization!</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Learn R</li><li class="breadcrumb-item"><a href="./intro_to_r.html">Tutorials</a></li><li class="breadcrumb-item"><a href="./viz_workshop.html">Visualizing Data</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Visualizing Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="welcome-to-the-visualizing-data-training" class="level2">
<h2 class="anchored" data-anchor-id="welcome-to-the-visualizing-data-training">Welcome to the Visualizing Data training</h2>
<p>This training was originally presented as a workshop at EARNCon 2023.</p>
<p>In this training you will learn how to create data visualizations using free tools like ggplot2 and Tableau.</p>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">1. Introduction</h2>
<!-- speaker notes -->
<!--
-Name
-Pronouns
-role/org
-
-->
<section id="brief-overview-of-ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="brief-overview-of-ggplot2">1.1 Brief overview of <code>ggplot2</code></h3>
<!-- speaker notes -->
<!--
-`ggplot2` is a visualization library that's highly regarded in the R community because of its flexibility. 
-Many of the visualizations seen in scientific journals and professional reports use `ggplot2` because its capable of producing publication-quality graphics with few steps.
-Base R graphics have their own merits, but `ggplot2` stands out because it follows a more structured, iterative way of creating visualizations.
-->
<p><code>ggplot2</code> is a data visualization package for R that allows users to create complex plots in a structured manner. It’s based on the Grammar of Graphics, which provides a coherent system for describing and building graphics.</p>
</section>
<section id="philosophy-behind-ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="philosophy-behind-ggplot2">1.2 Philosophy behind ggplot2</h3>
<!-- speaker notes -->
<!--
Fun Fact: The Grammar of Graphics [Book], written by Leland Wilkinson, serves as the foundation for `ggplot2`.
Note: Leland Wilkinson, was VP of Statistics for Tableau before his passing.
Visualizing a plot in `ggplot2` is about understanding its layers. Starting from the data, we layer on aesthetics, and geometries [lines, bars, points, etc.]. 
This structured layer-wise approach makes constructing and then iterating on charts, clear and intuitive.
-->
<p>At the core of <code>ggplot2</code> is the idea of layers. This means starting with a blank canvas and then iteratively adding layers to create the desired visualization.</p>
</section>
</section>
<section id="basic-chart-creation" class="level2">
<h2 class="anchored" data-anchor-id="basic-chart-creation">2. Basic chart creation</h2>
<section id="basic-syntax-the-big-three" class="level3">
<h3 class="anchored" data-anchor-id="basic-syntax-the-big-three">2.1. Basic syntax: The Big Three</h3>
<!-- speaker notes -->
<!--
- `ggplot2` functions can be broken down intuitively:
  - `ggplot()`: Initiates the canvas and data setup.
  - `aes()`: Designates which columns of our data map to specific visual properties, such as x and y axes.
  - Geometries (e.g., `geom_point()`): Dictate the type of plot, be it a scatter plot, line plot, bar plot, etc.
- Using this approach is like saying: "With this data, using these columns for these aesthetics, render this specific type of plot."
-->
<ol type="1">
<li><code>ggplot()</code></li>
<li><code>aes()</code></li>
<li><a href="https://ggplot2.tidyverse.org/reference/index.html#geoms">geom_point()</a></li>
</ol>
<p>The foundation of any <code>ggplot2</code> visualization starts with the <code>ggplot()</code> function. Within <code>ggplot()</code>, we call <code>aes()</code> to designate aesthetic mappings, and then append geometries like <code>geom_point()</code> to visually represent data points.</p>
</section>
<section id="practical-example" class="level3">
<h3 class="anchored" data-anchor-id="practical-example">2.2. Practical example</h3>
<!-- speaker notes -->
<!--
- We'll now delve into the `mtcars` dataset, a default R dataset.
- It's a dataset of cars and their attributes. 
- A common relationship to explore is how the horsepower (`hp`) of a car impacts its fuel efficiency, measured as miles per gallon (`mpg`). 
- Plotting these variables against each other lets us visually assess their relationship, giving us some sense of covariance.
-->
<p>Using the <strong><code>mtcars</code></strong> dataset, we’ll illustrate the relationship between a car’s horsepower (<strong><code>hp</code></strong>) and its fuel efficiency (<strong><code>mpg</code></strong>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#First thing first, install Tidyverse using</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('tidyverse')</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('highcharter')</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Load tidyverse library</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>mtcars <span class="ot">&lt;-</span> mtcars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A simple scatter plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A simple scatter</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mtcars, <span class="fu">aes</span>(<span class="at">x=</span>mpg, <span class="at">y=</span>hp)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Car scatter-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>A simple histogram using <code>geom_histogram()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x=</span>mpg)) <span class="sc">+</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Histogram-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="adding-layers-and-customizations" class="level2">
<h2 class="anchored" data-anchor-id="adding-layers-and-customizations">3. Adding layers and customizations</h2>
<!-- speaker notes -->
<!--
First thing first, we'll load some pre-tabulated data directly from github page.
It contains variables on employment, union density, and wages by industry. Stuff we commonly work with.
-->
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load some data from Github. </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Major industries, union density, real median wages, and employment. 2000 to 2022</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>ind_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">url</span>(<span class="st">'https://raw.githubusercontent.com/Economic/earn_code_library/main/data/industry_union_wage_emp.csv'</span>))</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ind_data &lt;- read_csv(file = here('data/industry_union_wage_emp.csv'), col_names = TRUE)</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Keep 2022 data</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>ind_data2022 <span class="ot">&lt;-</span> ind_data <span class="sc">%&gt;%</span>  </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2022</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ind_data2022, <span class="fu">aes</span>(<span class="at">x=</span>union_density, <span class="at">y=</span>real_med_wage)) <span class="sc">+</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Industry data-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="adding-geometries" class="level3">
<h3 class="anchored" data-anchor-id="adding-geometries">3.1 Adding geometries</h3>
<!-- speaker notes -->
<!--
- With `ggplot2`, combining different geometries and aesthetic customizations can really elevate a chart.
- For example, on a scatter geometry, we can transpose "smooth" geometry `geom_smooth()` in the form of a regression line. 
--[Run example at this point]
--In this case, adding a secondary geometry gives us a visual diagnostic, that allows us to examine the data for patterns and relationships .
-->
<p>An insightful visualization often arises from combining various layers and customizing aesthetics.</p>
<p>Building on our scatter plot from earlier, let’s include a smoothed line to better discern the relationship between mpg and hp:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>ind_data2022, <span class="fu">aes</span>(<span class="at">x=</span>union_density, <span class="at">y=</span>real_med_wage)) <span class="sc">+</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a smoothed line with customized aesthetics</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'lm'</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Ind lm plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The geom_smooth() with method=“lm” adds a linear regression line. The se=FALSE ensures the standard error bands are not plotted, and we’ve chosen a distinct red color for the line.</p>
</section>
<section id="customizing-aesthetics" class="level3">
<h3 class="anchored" data-anchor-id="customizing-aesthetics">3.2 Customizing Aesthetics</h3>
<!-- speaker notes -->
<!--
- In addition to layering geometries, `ggplot2` lets us customize the visual properties of charts fairly extensively.
- Specifically, we can adjust the colors, sizes, shapes, and transparencies of the objects in our plot
-->
<p>A major advantage of ggplot2 is its flexibility in customizing visual properties of your plots.</p>
<p>For instance, modifying the scatter plot by adjusting point properties:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Bar chart with colors</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>ind_data2022, <span class="fu">aes</span>(<span class="at">x=</span>mind16, <span class="at">y=</span>real_med_wage, <span class="at">fill=</span>mind16))<span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Ind aesthetics-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Bubble scatter chart</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ind_data2022, <span class="fu">aes</span>(<span class="at">x=</span>union_density, <span class="at">y=</span>real_med_wage, <span class="at">size=</span>(total_emp<span class="sc">/</span><span class="dv">1000</span>))) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Ind aesthetics-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Bubble color scatter chart</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ind_data2022, <span class="fu">aes</span>(<span class="at">x=</span>union_density, <span class="at">y=</span>real_med_wage, <span class="at">color=</span>mind16, <span class="at">size=</span>(total_emp<span class="sc">/</span><span class="dv">1000</span>))) <span class="sc">+</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Ind aesthetics-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Layering and customization in ggplot2 ensures your visualizations are both visually appealing and insightful.</p>
</section>
</section>
<section id="customizing-plots-with-labels-and-themes" class="level2">
<h2 class="anchored" data-anchor-id="customizing-plots-with-labels-and-themes">4. Customizing Plots with labels and themes</h2>
<section id="labeling-and-titling" class="level3">
<h3 class="anchored" data-anchor-id="labeling-and-titling">4.1. Labeling and Titling</h3>
<!-- speaker notes -->
<!--
- Labeling plots is essential part communicating your data. Titles, axis labels, and legends provide the crucial context, and allow your chart to stand alone.
- `ggplot2` can sometimes infer some labels from the data, but it's typically best practice to customize them for clarity and presentation.
-->
<p>Labeling is an integral part of making your plots interpretable. While some labels are inferred directly from the data, you often need to specify or customize them.</p>
<p>Here’s how to add a title, x-axis label, and y-axis label to our scatter plot with the <code>labs()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>ind_data, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>union_density, <span class="at">color=</span>mind16)) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labs() function to add labels</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'The share of workers covered by a union contract has steadily decreased... for now'</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Union density by industry, 2000-2022'</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Union density'</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Real median wage'</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">color=</span> <span class="st">'Industry'</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">size =</span> <span class="st">'Total emp (1000s)'</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">'Note: Data refers to workers 16+. Union workers are those who </span><span class="sc">\n</span><span class="st"> are members or covered by a union contract.</span><span class="sc">\n</span><span class="st">Source: EARN Analysis of CPS ORG data.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Labeling-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="adjusting-text-elements" class="level3">
<h3 class="anchored" data-anchor-id="adjusting-text-elements">4.2. Adjusting Text Elements</h3>
<!-- speaker notes -->
<!--
- Text elements (like axis labels, titles, and plot text) can be adjusted in terms of size, color, and font.
- Consistent and readable text ensures your plots are easily understandable and can enhance overall aesthetics.
-->
<p>Text elements such as titles, axis labels, and annotations can be modified to better fit your plot’s aesthetic or to match specific publication requirements.</p>
<p>Here’s an example of adjusting the legend’s size and position</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Example of our line plot</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>ind_data, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>union_density, <span class="at">color=</span>mind16)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labs() function to add labels</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'The share of workers covered by a union contract has steadily decreased... for now'</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Union density by industry, 2000-2022'</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Union density'</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Real median wage'</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">color=</span> <span class="st">'Industry'</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">size =</span> <span class="st">'Total emp (1000s)'</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">'Note: Data refers to workers 16+. Union workers are those who are members or covered by a union contract.</span><span class="sc">\n</span><span class="st">Source: EARN Analysis of CPS ORG data.'</span>) <span class="sc">+</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>   <span class="co">#fix our ugly legend!</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.box =</span> <span class="st">"vertical"</span>,</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Edit plot caption</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>, <span class="at">color=</span><span class="st">'maroon4'</span>, <span class="at">face=</span><span class="st">'bold'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Text elements-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="themes-in-ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="themes-in-ggplot2">4.3. Themes in <code>ggplot2</code></h3>
<!-- speaker notes -->
<!--
- `ggplot2` lets us easily polish the appearance of plots with themes.
- There are many ready-made themes you can pick from, you can modify existing ones, and you can create your own presets.
- This is especially cool if your organization has a design standard manual, color schemes or logos you regularly use
-->
<p><code>ggplot2</code> offers pre-set themes to modify plot aesthetics. Themes are a quick way to change the overall appearance of a plot, ensuring consistency presentations, papers, or reports.</p>
<p>For instance, let’s take the line chart we’ve been working with and apply a black and white theme:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Example of our line plot</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>ind_data, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>union_density, <span class="at">color=</span>mind16)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Note: Every subsequent theme() will supersede the previous. So be mindful!</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># theme_dark() + </span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># theme_light() +</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labs() function to add labels</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'The share of workers covered by a union contract has steadily decreased... for now'</span>,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Union density by industry, 2000-2022'</span>,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Union density'</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Real median wage'</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">color=</span> <span class="st">'Industry'</span>,</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">size =</span> <span class="st">'Total emp (1000s)'</span>,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">'Note: Data refers to workers 16+. Union workers are those who are members or covered by a union contract.</span><span class="sc">\n</span><span class="st">Source: EARN Analysis of CPS ORG data.'</span>) <span class="sc">+</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>   <span class="co">#fix our ugly legend!</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.box =</span> <span class="st">"vertical"</span>,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Edit plot caption</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>, <span class="at">color=</span><span class="st">'maroon4'</span>, <span class="at">face=</span><span class="st">'bold'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/applying themes-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>Now, let’s try using pre-made theme. <a href="https://github.com/MatthewBJane/ThemePark">ThemePark</a> by Matthew B. Jane</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/home/ecohn/R/x86_64-pc-linux-gnu-library/4.4'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"MatthewBJane/ThemePark"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Skipping install of 'ThemePark' from a github remote, the SHA1 (30989dac) has not changed since last install.
  Use `force = TRUE` to force installation</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ThemePark)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>themepark_themes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              theme                     creator
1            barbie             Matthew B. Jané
2       oppenheimer Matthew B. Jané &amp; Toki Liam
3          starwars             Matthew B. Jané
4             zelda               Alex Slavenko
5        terminator               Alex Slavenko
6         spiderman           Velu P.K. Immonen
7            avatar           Velu P.K. Immonen
8        gryffindor                Begum Ozemek
9        hufflepuff                Begum Ozemek
10        ravenclaw                Begum Ozemek
11        slytherin                Begum Ozemek
12         futurama             Tylor J. Harlow
13         simpsons             Tylor J. Harlow
14   lordoftherings                 Ethan Milne
15    gameofthrones              Brennan Antone
16        godfather      Francisco Garre-Frutos
17             nemo        Christopher T. Kenny
18          friends         Alexis van STRAATEN
19            alien                Luke Pilling
20   grand_budapest               Katya Kustova
21    asteroid_city               Katya Kustova
22  french_dispatch               Katya Kustova
23 moonrise_kingdom               Katya Kustova
24              elf        Christopher T. Kenny</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>ind_data, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>union_density, <span class="at">color=</span>mind16)) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Theme</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labs() function to add labels</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'The share of workers covered by a union contract has steadily decreased... for now'</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Union density by industry, 2000-2022'</span>,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Union density'</span>,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Real median wage'</span>,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">color=</span> <span class="st">'Industry'</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">size =</span> <span class="st">'Total emp (1000s)'</span>,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">'Note: Data refers to workers 16+. Union workers are those who are members or covered by a union contract.</span><span class="sc">\n</span><span class="st">Source: EARN Analysis of CPS ORG data.'</span>) <span class="sc">+</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>   <span class="co">#fix our ugly legend!</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.box =</span> <span class="st">"vertical"</span>,</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Edit plot caption</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>, <span class="at">color=</span><span class="st">'maroon4'</span>, <span class="at">face=</span><span class="st">'bold'</span>))<span class="sc">+</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_barbie</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/applying ThemePark themes-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>[Insert EARN/EPI/CGI example]?</p>
<p>Mastering these customization techniques will make your plots informative, engaging, and tailored for their intended audience!</p>
</section>
</section>
<section id="exporting-your-plot" class="level2">
<h2 class="anchored" data-anchor-id="exporting-your-plot">5. Exporting your plot</h2>
<!-- Speaker notes -->
<!--
- So you've created a beautiful ggplot. Now you want to save the image and tweet/blog/print/frame/put it on the refrigerator
-->
<p>Now to export your ggplot for the refrigerator</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>final_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>ind_data, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>union_density, <span class="at">color=</span>mind16)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labs() function to add labels</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'The share of workers covered by a union contract has steadily decreased... for now'</span>,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Union density by industry, 2000-2022'</span>,</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Union density'</span>,</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Real median wage'</span>,</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">color=</span> <span class="st">'Industry'</span>,</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">size =</span> <span class="st">'Total emp (1000s)'</span>,</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">'Note: Data refers to workers 16+. Union workers are those who are members or covered by a union contract.</span><span class="sc">\n</span><span class="st">Source: EARN Analysis of CPS ORG data.'</span>) <span class="sc">+</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>   <span class="co">#fix our ugly legend!</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.box =</span> <span class="st">"vertical"</span>,</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Edit plot caption</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>, <span class="at">color=</span><span class="st">'maroon4'</span>, <span class="at">face=</span><span class="st">'bold'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="saving-your-ggplot" class="level3">
<h3 class="anchored" data-anchor-id="saving-your-ggplot">5.1 Saving your ggplot</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Our chart object</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>final_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/Save options-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">plot =</span> final_plot,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>       <span class="co">#name of our chart</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">filename =</span> <span class="st">'final_union_industry_scatter.png'</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>       <span class="co"># Save location for our chart</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">path =</span> <span class="fu">here</span>(<span class="st">'output/'</span>), </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>       <span class="co"># Dots per inch (300+ is considered high-res)</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
</section>
</section>
<section id="advanced-plot-types" class="level2">
<h2 class="anchored" data-anchor-id="advanced-plot-types">6. Advanced Plot Types</h2>
<section id="faceting-and-multi-panel-plots" class="level3">
<h3 class="anchored" data-anchor-id="faceting-and-multi-panel-plots">6.1. Faceting and Multi-panel Plots</h3>
<!-- speaker notes -->
<!--
- Faceting is a feature that lets you split one plot into multiple plots based on a factor or category.
- Particularly useful when you want to visualize the relationship between variables across different subgroups of your data.
-->
<p>Faceting enables the creation of multi-panel plots, helping visualize patterns across different subgroups without generating individual plots for each subgroup.</p>
<p>Let’s view scatter plots of mpg vs.&nbsp;hp but facet them by the number of cylinders:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">y=</span>hp, <span class="at">x=</span>mpg))<span class="sc">+</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>cyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/faceting-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>ind_data_years <span class="ot">&lt;-</span> ind_data <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">2008</span>, <span class="dv">2022</span>))</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ind_data_years, <span class="fu">aes</span>(<span class="at">x=</span>union_density, <span class="at">y=</span>real_med_wage)) <span class="sc">+</span> </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year) <span class="sc">+</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="viz_workshop_files/figure-html/faceting-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="interactive-charts" class="level3">
<h3 class="anchored" data-anchor-id="interactive-charts">6.3. Interactive charts</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages('highcharter')</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(highcharter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Line chart with colors</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>linechart <span class="ot">&lt;-</span> <span class="fu">highchart</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_series</span>(<span class="at">data =</span> ind_data, <span class="fu">hcaes</span>(<span class="at">x =</span> year, <span class="at">y =</span> union_density, <span class="at">group =</span> mind16), </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">type =</span> <span class="st">'line'</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>linechart</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-6b1bf27a2744adee29cd" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-6b1bf27a2744adee29cd">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":null},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"name":"Agriculture, mining, forestry and fisheries","data":[{"year":2000,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2527066.262,"union_emp":30909.48176,"real_med_wage":14.82429057,"union_density":0.049282537,"x":2000,"y":0.049282537},{"year":2001,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2380568.158,"union_emp":31785.1926,"real_med_wage":15.45699947,"union_density":0.053958318,"x":2001,"y":0.053958318},{"year":2002,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2442948.839,"union_emp":27455.92523,"real_med_wage":15.81563967,"union_density":0.046003681,"x":2002,"y":0.046003681},{"year":2003,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":1867180.032,"union_emp":22760.71341,"real_med_wage":16.37631758,"union_density":0.049056247,"x":2003,"y":0.049056247},{"year":2004,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":1859546.704,"union_emp":25536.46184,"real_med_wage":16.34826724,"union_density":0.056932833,"x":2004,"y":0.056932833},{"year":2005,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":1919547.559,"union_emp":24526.3305,"real_med_wage":16.56463473,"union_density":0.051614766,"x":2005,"y":0.051614766},{"year":2006,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2025394.484,"union_emp":23143.16482,"real_med_wage":17.49579059,"union_density":0.046766009,"x":2006,"y":0.046766009},{"year":2007,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2034063.581,"union_emp":26216.15789,"real_med_wage":17.0030144,"union_density":0.05136972,"x":2007,"y":0.05136972},{"year":2008,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2153502.532,"union_emp":29242.62426,"real_med_wage":17.75848599,"union_density":0.055226139,"x":2008,"y":0.055226139},{"year":2009,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2032482.126,"union_emp":23011.37046,"real_med_wage":18.25910912,"union_density":0.045802858,"x":2009,"y":0.045802858},{"year":2010,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2168889.613,"union_emp":24173.37283,"real_med_wage":17.60371458,"union_density":0.045404242,"x":2010,"y":0.045404242},{"year":2011,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2262009.152,"union_emp":23162.99884,"real_med_wage":17.65881076,"union_density":0.041306575,"x":2011,"y":0.041306575},{"year":2012,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2422206.026,"union_emp":26258.52247,"real_med_wage":17.91192507,"union_density":0.042842035,"x":2012,"y":0.042842035},{"year":2013,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2481374.948,"union_emp":24028.37491,"real_med_wage":18.89838238,"union_density":0.039206369,"x":2013,"y":0.039206369},{"year":2014,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2620815.822,"union_emp":25757.35557,"real_med_wage":18.55313465,"union_density":0.039832506,"x":2014,"y":0.039832506},{"year":2015,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2563692.302,"union_emp":24077.00306,"real_med_wage":18.52349742,"union_density":0.038454145,"x":2015,"y":0.038454145},{"year":2016,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2485733.698,"union_emp":22683.13574,"real_med_wage":18.31211433,"union_density":0.037138641,"x":2016,"y":0.037138641},{"year":2017,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2558600.133,"union_emp":20570.14892,"real_med_wage":18.37666008,"union_density":0.033200224,"x":2017,"y":0.033200224},{"year":2018,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2557110.112,"union_emp":20921.38668,"real_med_wage":18.40344715,"union_density":0.033688888,"x":2018,"y":0.033688888},{"year":2019,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2549072.244,"union_emp":20847.69422,"real_med_wage":18.32554555,"union_density":0.033296884,"x":2019,"y":0.033296884},{"year":2020,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2353414.505,"union_emp":21905.91659,"real_med_wage":19.21970445,"union_density":0.037230091,"x":2020,"y":0.037230091},{"year":2021,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2309728.681,"union_emp":25185.15025,"real_med_wage":19.2819229,"union_density":0.044374865,"x":2021,"y":0.044374865},{"year":2022,"mind16":"Agriculture, mining, forestry and fisheries","total_emp":2261130.121,"union_emp":30245.68109,"real_med_wage":18.50500011,"union_density":0.054158546,"x":2022,"y":0.054158546}],"type":"line"},{"name":"Communications and utilities","data":[{"year":2000,"mind16":"Communications and utilities","total_emp":3430952.527,"union_emp":223043.43,"real_med_wage":29.40181175,"union_density":0.26057135,"x":2000,"y":0.26057135},{"year":2001,"mind16":"Communications and utilities","total_emp":3474628.448,"union_emp":223174.1095,"real_med_wage":29.65004858,"union_density":0.259298119,"x":2001,"y":0.259298119},{"year":2002,"mind16":"Communications and utilities","total_emp":3358119.906,"union_emp":216735.6329,"real_med_wage":29.41004474,"union_density":0.257309656,"x":2002,"y":0.257309656},{"year":2003,"mind16":"Communications and utilities","total_emp":3645924.093,"union_emp":201470.2949,"real_med_wage":30.35533655,"union_density":0.217755533,"x":2003,"y":0.217755533},{"year":2004,"mind16":"Communications and utilities","total_emp":3444418.241,"union_emp":192608.6611,"real_med_wage":29.95690726,"union_density":0.223542922,"x":2004,"y":0.223542922},{"year":2005,"mind16":"Communications and utilities","total_emp":3371827.966,"union_emp":177214.6814,"real_med_wage":30.09844027,"union_density":0.212380579,"x":2005,"y":0.212380579},{"year":2006,"mind16":"Communications and utilities","total_emp":3566877.644,"union_emp":178170.4952,"real_med_wage":29.37493089,"union_density":0.202373267,"x":2006,"y":0.202373267},{"year":2007,"mind16":"Communications and utilities","total_emp":3616103.163,"union_emp":178876.6531,"real_med_wage":29.78357416,"union_density":0.195844,"x":2007,"y":0.195844},{"year":2008,"mind16":"Communications and utilities","total_emp":3584669.525,"union_emp":182746.4186,"real_med_wage":29.3154923,"union_density":0.202512024,"x":2008,"y":0.202512024},{"year":2009,"mind16":"Communications and utilities","total_emp":3398875.568,"union_emp":162654.6799,"real_med_wage":29.63391748,"union_density":0.190800532,"x":2009,"y":0.190800532},{"year":2010,"mind16":"Communications and utilities","total_emp":3409851.484,"union_emp":166234.3015,"real_med_wage":29.65719138,"union_density":0.195473363,"x":2010,"y":0.195473363},{"year":2011,"mind16":"Communications and utilities","total_emp":3452675.685,"union_emp":154474.8355,"real_med_wage":28.58880685,"union_density":0.178768608,"x":2011,"y":0.178768608},{"year":2012,"mind16":"Communications and utilities","total_emp":3224312.104,"union_emp":151429.1693,"real_med_wage":29.43908386,"union_density":0.185567175,"x":2012,"y":0.185567175},{"year":2013,"mind16":"Communications and utilities","total_emp":3226122.985,"union_emp":138567.8549,"real_med_wage":29.11473738,"union_density":0.1691212,"x":2013,"y":0.1691212},{"year":2014,"mind16":"Communications and utilities","total_emp":3391190.063,"union_emp":137129.4685,"real_med_wage":29.4585313,"union_density":0.160831486,"x":2014,"y":0.160831486},{"year":2015,"mind16":"Communications and utilities","total_emp":3384624.871,"union_emp":135259.0578,"real_med_wage":30.89753034,"union_density":0.160564605,"x":2015,"y":0.160564605},{"year":2016,"mind16":"Communications and utilities","total_emp":3405397.44,"union_emp":141025.1303,"real_med_wage":31.1119083,"union_density":0.168112792,"x":2016,"y":0.168112792},{"year":2017,"mind16":"Communications and utilities","total_emp":3427392.035,"union_emp":149484.4566,"real_med_wage":31.39107265,"union_density":0.173378447,"x":2017,"y":0.173378447},{"year":2018,"mind16":"Communications and utilities","total_emp":3468839.798,"union_emp":139889.9824,"real_med_wage":31.51960803,"union_density":0.160113103,"x":2018,"y":0.160113103},{"year":2019,"mind16":"Communications and utilities","total_emp":3364031.173,"union_emp":149504.712,"real_med_wage":30.91172788,"union_density":0.176138216,"x":2019,"y":0.176138216},{"year":2020,"mind16":"Communications and utilities","total_emp":3265713.082,"union_emp":138130.8368,"real_med_wage":33.94575026,"union_density":0.17017973,"x":2020,"y":0.17017973},{"year":2021,"mind16":"Communications and utilities","total_emp":3314924.524,"union_emp":137142.2384,"real_med_wage":33.25874399,"union_density":0.164592284,"x":2021,"y":0.164592284},{"year":2022,"mind16":"Communications and utilities","total_emp":3450768.766,"union_emp":128241.9469,"real_med_wage":33.12977791,"union_density":0.150545175,"x":2022,"y":0.150545175}],"type":"line"},{"name":"Construction","data":[{"year":2000,"mind16":"Construction","total_emp":7384252.699,"union_emp":367678.3806,"real_med_wage":22.20729683,"union_density":0.201618801,"x":2000,"y":0.201618801},{"year":2001,"mind16":"Construction","total_emp":7610690.749,"union_emp":374764.2032,"real_med_wage":23.24982485,"union_density":0.198991695,"x":2001,"y":0.198991695},{"year":2002,"mind16":"Construction","total_emp":7524358.687,"union_emp":357052.8352,"real_med_wage":22.88847427,"union_density":0.19349651,"x":2002,"y":0.19349651},{"year":2003,"mind16":"Construction","total_emp":7690161.607,"union_emp":351561.0858,"real_med_wage":23.12130207,"union_density":0.184470908,"x":2003,"y":0.184470908},{"year":2004,"mind16":"Construction","total_emp":8099050.868,"union_emp":337644.2876,"real_med_wage":22.57780926,"union_density":0.167552889,"x":2004,"y":0.167552889},{"year":2005,"mind16":"Construction","total_emp":8526649.037,"union_emp":320719.4998,"real_med_wage":22.56720243,"union_density":0.15071921,"x":2005,"y":0.15071921},{"year":2006,"mind16":"Construction","total_emp":8913103.005000001,"union_emp":327654.7101,"real_med_wage":21.85955363,"union_density":0.147405831,"x":2006,"y":0.147405831},{"year":2007,"mind16":"Construction","total_emp":8980611.835999999,"union_emp":351627.976,"real_med_wage":22.41180189,"union_density":0.156332344,"x":2007,"y":0.156332344},{"year":2008,"mind16":"Construction","total_emp":8184704.934,"union_emp":346868.5907,"real_med_wage":22.99039007,"union_density":0.171565716,"x":2008,"y":0.171565716},{"year":2009,"mind16":"Construction","total_emp":7109094.886,"union_emp":295486.048,"real_med_wage":23.98298435,"union_density":0.166879134,"x":2009,"y":0.166879134},{"year":2010,"mind16":"Construction","total_emp":6569066.253,"union_emp":250159.3178,"real_med_wage":23.2413623,"union_density":0.152866345,"x":2010,"y":0.152866345},{"year":2011,"mind16":"Construction","total_emp":6667097.229,"union_emp":269466.28,"real_med_wage":22.59490874,"union_density":0.161800385,"x":2011,"y":0.161800385},{"year":2012,"mind16":"Construction","total_emp":6645602.194,"union_emp":249248.3515,"real_med_wage":22.72771579,"union_density":0.151163668,"x":2012,"y":0.151163668},{"year":2013,"mind16":"Construction","total_emp":6928958.237,"union_emp":280642.0483,"real_med_wage":22.57804762,"union_density":0.162315334,"x":2013,"y":0.162315334},{"year":2014,"mind16":"Construction","total_emp":7412658.598,"union_emp":296701.2952,"real_med_wage":22.3258122,"union_density":0.160135224,"x":2014,"y":0.160135224},{"year":2015,"mind16":"Construction","total_emp":7511565.86,"union_emp":277755.3726,"real_med_wage":22.28735257,"union_density":0.148374244,"x":2015,"y":0.148374244},{"year":2016,"mind16":"Construction","total_emp":7855262.247,"union_emp":303507.4885,"real_med_wage":23.23226318,"union_density":0.154882627,"x":2016,"y":0.154882627},{"year":2017,"mind16":"Construction","total_emp":8203449.83,"union_emp":320932.3328,"real_med_wage":23.92232213,"union_density":0.156737439,"x":2017,"y":0.156737439},{"year":2018,"mind16":"Construction","total_emp":8609890.643999999,"union_emp":310954.0274,"real_med_wage":23.37535207,"union_density":0.145905508,"x":2018,"y":0.145905508},{"year":2019,"mind16":"Construction","total_emp":8725605.710000001,"union_emp":317643.7536,"real_med_wage":23.24456187,"union_density":0.145591369,"x":2019,"y":0.145591369},{"year":2020,"mind16":"Construction","total_emp":8276477.253,"union_emp":291912.5606,"real_med_wage":24.91663137,"union_density":0.14223654,"x":2020,"y":0.14223654},{"year":2021,"mind16":"Construction","total_emp":8590687.478,"union_emp":309329.6541,"real_med_wage":24.29443893,"union_density":0.144617433,"x":2021,"y":0.144617433},{"year":2022,"mind16":"Construction","total_emp":9069429.373,"union_emp":302088.3028,"real_med_wage":23.72500038,"union_density":0.133776635,"x":2022,"y":0.133776635}],"type":"line"},{"name":"Educational","data":[{"year":2000,"mind16":"Educational","total_emp":11051617.09,"union_emp":1082192.622,"real_med_wage":24.23449274,"union_density":0.39423111,"x":2000,"y":0.39423111},{"year":2001,"mind16":"Educational","total_emp":11304388.81,"union_emp":1109900.461,"real_med_wage":24.75995021,"union_density":0.391056871,"x":2001,"y":0.391056871},{"year":2002,"mind16":"Educational","total_emp":11542640.47,"union_emp":1123692.38,"real_med_wage":24.52745432,"union_density":0.390423261,"x":2002,"y":0.390423261},{"year":2003,"mind16":"Educational","total_emp":11807810.45,"union_emp":1119329.224,"real_med_wage":24.6757066,"union_density":0.379573901,"x":2003,"y":0.379573901},{"year":2004,"mind16":"Educational","total_emp":12019334.33,"union_emp":1117204.974,"real_med_wage":25.08444208,"union_density":0.373053253,"x":2004,"y":0.373053253},{"year":2005,"mind16":"Educational","total_emp":12244153.13,"union_emp":1159197.806,"real_med_wage":25.35156645,"union_density":0.380417316,"x":2005,"y":0.380417316},{"year":2006,"mind16":"Educational","total_emp":12509140.14,"union_emp":1158018.42,"real_med_wage":24.72784769,"union_density":0.372908548,"x":2006,"y":0.372908548},{"year":2007,"mind16":"Educational","total_emp":12799992.71,"union_emp":1193861.068,"real_med_wage":25.31142698,"union_density":0.372638806,"x":2007,"y":0.372638806},{"year":2008,"mind16":"Educational","total_emp":13117797.53,"union_emp":1251208.776,"real_med_wage":24.96064042,"union_density":0.382045813,"x":2008,"y":0.382045813},{"year":2009,"mind16":"Educational","total_emp":13135444.89,"union_emp":1217263.82,"real_med_wage":25.70215269,"union_density":0.371645723,"x":2009,"y":0.371645723},{"year":2010,"mind16":"Educational","total_emp":13111651.14,"union_emp":1188467.924,"real_med_wage":25.94749657,"union_density":0.364482194,"x":2010,"y":0.364482194},{"year":2011,"mind16":"Educational","total_emp":12898887.43,"union_emp":1179455.644,"real_med_wage":25.14565014,"union_density":0.367085659,"x":2011,"y":0.367085659},{"year":2012,"mind16":"Educational","total_emp":12862992.7,"union_emp":1130723.318,"real_med_wage":24.6303538,"union_density":0.351767431,"x":2012,"y":0.351767431},{"year":2013,"mind16":"Educational","total_emp":12872407.98,"union_emp":1117348.394,"real_med_wage":24.78881902,"union_density":0.345874539,"x":2013,"y":0.345874539},{"year":2014,"mind16":"Educational","total_emp":13193138.8,"union_emp":1127003.688,"real_med_wage":24.80783693,"union_density":0.342300611,"x":2014,"y":0.342300611},{"year":2015,"mind16":"Educational","total_emp":13515114.87,"union_emp":1171646.402,"real_med_wage":25.1987082,"union_density":0.346891914,"x":2015,"y":0.346891914},{"year":2016,"mind16":"Educational","total_emp":13566624.94,"union_emp":1144924.926,"real_med_wage":25.67687914,"union_density":0.33634207,"x":2016,"y":0.33634207},{"year":2017,"mind16":"Educational","total_emp":13680197.65,"union_emp":1138810.797,"real_med_wage":25.55167516,"union_density":0.332361202,"x":2017,"y":0.332361202},{"year":2018,"mind16":"Educational","total_emp":13795961.13,"union_emp":1154019.833,"real_med_wage":25.40348214,"union_density":0.332708718,"x":2018,"y":0.332708718},{"year":2019,"mind16":"Educational","total_emp":14057985.57,"union_emp":1147219.753,"real_med_wage":25.81766193,"union_density":0.324985911,"x":2019,"y":0.324985911},{"year":2020,"mind16":"Educational","total_emp":13217719.01,"union_emp":1143809.336,"real_med_wage":27.23857919,"union_density":0.348438087,"x":2020,"y":0.348438087},{"year":2021,"mind16":"Educational","total_emp":13405827.33,"union_emp":1138754.101,"real_med_wage":27.0139778,"union_density":0.339090207,"x":2021,"y":0.339090207},{"year":2022,"mind16":"Educational","total_emp":13780454.64,"union_emp":1130880.168,"real_med_wage":25.96074867,"union_density":0.32832035,"x":2022,"y":0.32832035}],"type":"line"},{"name":"Entertainment and recreation","data":[{"year":2000,"mind16":"Entertainment and recreation","total_emp":10409407.61,"union_emp":132310.8029,"real_med_wage":11.94528715,"union_density":0.050995772,"x":2000,"y":0.050995772},{"year":2001,"mind16":"Entertainment and recreation","total_emp":10587480.51,"union_emp":131865.9101,"real_med_wage":12.44487872,"union_density":0.050093358,"x":2001,"y":0.050093358},{"year":2002,"mind16":"Entertainment and recreation","total_emp":10804445.41,"union_emp":122192.2975,"real_med_wage":12.67440696,"union_density":0.045235957,"x":2002,"y":0.045235957},{"year":2003,"mind16":"Entertainment and recreation","total_emp":10594842.33,"union_emp":101174.4009,"real_med_wage":12.78666587,"union_density":0.038270978,"x":2003,"y":0.038270978},{"year":2004,"mind16":"Entertainment and recreation","total_emp":10820572.75,"union_emp":107047.8522,"real_med_wage":12.45430488,"union_density":0.0398851,"x":2004,"y":0.0398851},{"year":2005,"mind16":"Entertainment and recreation","total_emp":11050500.27,"union_emp":114140.3088,"real_med_wage":12.04553928,"union_density":0.041268402,"x":2005,"y":0.041268402},{"year":2006,"mind16":"Entertainment and recreation","total_emp":11096007.32,"union_emp":111088.0297,"real_med_wage":11.6666975,"union_density":0.040302602,"x":2006,"y":0.040302602},{"year":2007,"mind16":"Entertainment and recreation","total_emp":11364119.68,"union_emp":108177.2938,"real_med_wage":12.0539048,"union_density":0.038062736,"x":2007,"y":0.038062736},{"year":2008,"mind16":"Entertainment and recreation","total_emp":11656129.05,"union_emp":116438.817,"real_med_wage":12.2768447,"union_density":0.040232599,"x":2008,"y":0.040232599},{"year":2009,"mind16":"Entertainment and recreation","total_emp":11725109.98,"union_emp":120149.1459,"real_med_wage":12.32661233,"union_density":0.040893125,"x":2009,"y":0.040893125},{"year":2010,"mind16":"Entertainment and recreation","total_emp":11539652.45,"union_emp":100401.8582,"real_med_wage":12.12622845,"union_density":0.034979114,"x":2010,"y":0.034979114},{"year":2011,"mind16":"Entertainment and recreation","total_emp":11760905.9,"union_emp":100896.869,"real_med_wage":11.79106429,"union_density":0.034291007,"x":2011,"y":0.034291007},{"year":2012,"mind16":"Entertainment and recreation","total_emp":12196647.7,"union_emp":110909.0839,"real_med_wage":11.83503066,"union_density":0.036448895,"x":2012,"y":0.036448895},{"year":2013,"mind16":"Entertainment and recreation","total_emp":12527966.45,"union_emp":114734.1683,"real_med_wage":11.97349386,"union_density":0.036880512,"x":2013,"y":0.036880512},{"year":2014,"mind16":"Entertainment and recreation","total_emp":12509556.74,"union_emp":129545.2189,"real_med_wage":12.40391847,"union_density":0.04182487,"x":2014,"y":0.04182487},{"year":2015,"mind16":"Entertainment and recreation","total_emp":12756878.63,"union_emp":128386.989,"real_med_wage":12.38255082,"union_density":0.040285184,"x":2015,"y":0.040285184},{"year":2016,"mind16":"Entertainment and recreation","total_emp":13118387.89,"union_emp":125933.5428,"real_med_wage":12.3505868,"union_density":0.038476244,"x":2016,"y":0.038476244},{"year":2017,"mind16":"Entertainment and recreation","total_emp":13221908.71,"union_emp":123575.6514,"real_med_wage":13.1677559,"union_density":0.037536377,"x":2017,"y":0.037536377},{"year":2018,"mind16":"Entertainment and recreation","total_emp":13194864.68,"union_emp":125618.7973,"real_med_wage":13.48875902,"union_density":0.038806733,"x":2018,"y":0.038806733},{"year":2019,"mind16":"Entertainment and recreation","total_emp":13552175.94,"union_emp":129132.2815,"real_med_wage":13.76138254,"union_density":0.038443086,"x":2019,"y":0.038443086},{"year":2020,"mind16":"Entertainment and recreation","total_emp":10473910.22,"union_emp":83465.8092,"real_med_wage":14.725164,"union_density":0.032020965,"x":2020,"y":0.032020965},{"year":2021,"mind16":"Entertainment and recreation","total_emp":11606303.29,"union_emp":91831.74516000001,"real_med_wage":15.12519918,"union_density":0.031915962,"x":2021,"y":0.031915962},{"year":2022,"mind16":"Entertainment and recreation","total_emp":12524446.88,"union_emp":119234.3069,"real_med_wage":14.99499989,"union_density":0.038535819,"x":2022,"y":0.038535819}],"type":"line"},{"name":"Hospital","data":[{"year":2000,"mind16":"Hospital","total_emp":5078283.155,"union_emp":201369.159,"real_med_wage":24.81253212,"union_density":0.159021884,"x":2000,"y":0.159021884},{"year":2001,"mind16":"Hospital","total_emp":5254727.11,"union_emp":201589.9149,"real_med_wage":24.91468021,"union_density":0.154757201,"x":2001,"y":0.154757201},{"year":2002,"mind16":"Hospital","total_emp":5329739.769,"union_emp":216226.6779,"real_med_wage":26.16316319,"union_density":0.160587025,"x":2002,"y":0.160587025},{"year":2003,"mind16":"Hospital","total_emp":5633674.802,"union_emp":227705.0003,"real_med_wage":26.89678021,"union_density":0.160947384,"x":2003,"y":0.160947384},{"year":2004,"mind16":"Hospital","total_emp":5677843.386,"union_emp":224670.7784,"real_med_wage":27.11284254,"union_density":0.160367817,"x":2004,"y":0.160367817},{"year":2005,"mind16":"Hospital","total_emp":5701484.32,"union_emp":221121.6046,"real_med_wage":26.75028823,"union_density":0.153897852,"x":2005,"y":0.153897852},{"year":2006,"mind16":"Hospital","total_emp":5696778.649,"union_emp":219765.981,"real_med_wage":26.25189348,"union_density":0.153488554,"x":2006,"y":0.153488554},{"year":2007,"mind16":"Hospital","total_emp":5926929.529,"union_emp":254368.3699,"real_med_wage":27.08049167,"union_density":0.172151606,"x":2007,"y":0.172151606},{"year":2008,"mind16":"Hospital","total_emp":6219682.963,"union_emp":264344.7047,"real_med_wage":27.01315638,"union_density":0.170166603,"x":2008,"y":0.170166603},{"year":2009,"mind16":"Hospital","total_emp":6237948.358,"union_emp":253184.2739,"real_med_wage":27.69185876,"union_density":0.163445946,"x":2009,"y":0.163445946},{"year":2010,"mind16":"Hospital","total_emp":6221258.148,"union_emp":249018.3955,"real_med_wage":27.88491179,"union_density":0.160354544,"x":2010,"y":0.160354544},{"year":2011,"mind16":"Hospital","total_emp":6288018.641,"union_emp":252595.275,"real_med_wage":26.93294734,"union_density":0.159140165,"x":2011,"y":0.159140165},{"year":2012,"mind16":"Hospital","total_emp":6085513.456,"union_emp":240620.7555,"real_med_wage":27.2105,"union_density":0.158095592,"x":2012,"y":0.158095592},{"year":2013,"mind16":"Hospital","total_emp":6249186.838,"union_emp":247291.4578,"real_med_wage":27.75100132,"union_density":0.160747495,"x":2013,"y":0.160747495},{"year":2014,"mind16":"Hospital","total_emp":6557466.384,"union_emp":263453.8744,"real_med_wage":27.29606687,"union_density":0.159194914,"x":2014,"y":0.159194914},{"year":2015,"mind16":"Hospital","total_emp":6674657.518,"union_emp":255005.6625,"real_med_wage":27.80395817,"union_density":0.152812062,"x":2015,"y":0.152812062},{"year":2016,"mind16":"Hospital","total_emp":6961802.801,"union_emp":267448.3599,"real_med_wage":28.12455343,"union_density":0.153172256,"x":2016,"y":0.153172256},{"year":2017,"mind16":"Hospital","total_emp":7012909.247,"union_emp":265766.2169,"real_med_wage":28.75768434,"union_density":0.152025166,"x":2017,"y":0.152025166},{"year":2018,"mind16":"Hospital","total_emp":7072202.71,"union_emp":258221.295,"real_med_wage":28.61858521,"union_density":0.146830137,"x":2018,"y":0.146830137},{"year":2019,"mind16":"Hospital","total_emp":7396792.886,"union_emp":278788.782,"real_med_wage":28.6996872,"union_density":0.15119438,"x":2019,"y":0.15119438},{"year":2020,"mind16":"Hospital","total_emp":7263329.365,"union_emp":280090.204,"real_med_wage":30.91208061,"union_density":0.154327637,"x":2020,"y":0.154327637},{"year":2021,"mind16":"Hospital","total_emp":7326454.761,"union_emp":275669.9844,"real_med_wage":29.58996117,"union_density":0.149529134,"x":2021,"y":0.149529134},{"year":2022,"mind16":"Hospital","total_emp":7285904.589,"union_emp":267144.4201,"real_med_wage":28.99512482,"union_density":0.143996317,"x":2022,"y":0.143996317}],"type":"line"},{"name":"Manufacturing, durable goods","data":[{"year":2000,"mind16":"Manufacturing, durable goods","total_emp":11901097.62,"union_emp":479391.288,"real_med_wage":23.66513011,"union_density":0.161211844,"x":2000,"y":0.161211844},{"year":2001,"mind16":"Manufacturing, durable goods","total_emp":11361341.91,"union_emp":454124.0286,"real_med_wage":23.74804724,"union_density":0.160259086,"x":2001,"y":0.160259086},{"year":2002,"mind16":"Manufacturing, durable goods","total_emp":10489429.63,"union_emp":425791.624,"real_med_wage":24.52745432,"union_density":0.163742876,"x":2002,"y":0.163742876},{"year":2003,"mind16":"Manufacturing, durable goods","total_emp":10085463.75,"union_emp":378966.6201,"real_med_wage":23.97399889,"union_density":0.150114446,"x":2003,"y":0.150114446},{"year":2004,"mind16":"Manufacturing, durable goods","total_emp":9895511.852,"union_emp":355548.2781,"real_med_wage":24.21540626,"union_density":0.143197324,"x":2004,"y":0.143197324},{"year":2005,"mind16":"Manufacturing, durable goods","total_emp":9905095.811000001,"union_emp":349875.9591,"real_med_wage":24.09861191,"union_density":0.141239452,"x":2005,"y":0.141239452},{"year":2006,"mind16":"Manufacturing, durable goods","total_emp":10058735.25,"union_emp":321679.2446,"real_med_wage":24.07031603,"union_density":0.12692079,"x":2006,"y":0.12692079},{"year":2007,"mind16":"Manufacturing, durable goods","total_emp":9931448.772,"union_emp":299604.321,"real_med_wage":24.0904669,"union_density":0.121726234,"x":2007,"y":0.121726234},{"year":2008,"mind16":"Manufacturing, durable goods","total_emp":9828913.987,"union_emp":311059.1426,"real_med_wage":23.97844651,"union_density":0.126753225,"x":2008,"y":0.126753225},{"year":2009,"mind16":"Manufacturing, durable goods","total_emp":8500309.620999999,"union_emp":254773.2219,"real_med_wage":25.52390471,"union_density":0.119122435,"x":2009,"y":0.119122435},{"year":2010,"mind16":"Manufacturing, durable goods","total_emp":8396575.335999999,"union_emp":234726.9025,"real_med_wage":25.1443666,"union_density":0.112357412,"x":2010,"y":0.112357412},{"year":2011,"mind16":"Manufacturing, durable goods","total_emp":8620394.048,"union_emp":236570.1508,"real_med_wage":24.13980882,"union_density":0.10999451,"x":2011,"y":0.10999451},{"year":2012,"mind16":"Manufacturing, durable goods","total_emp":8876313.068,"union_emp":232089.0976,"real_med_wage":24.32871015,"union_density":0.104698439,"x":2012,"y":0.104698439},{"year":2013,"mind16":"Manufacturing, durable goods","total_emp":9054060.82,"union_emp":245397.4494,"real_med_wage":24.2631517,"union_density":0.108634741,"x":2013,"y":0.108634741},{"year":2014,"mind16":"Manufacturing, durable goods","total_emp":9176851.176000001,"union_emp":239004.1931,"real_med_wage":23.57318481,"union_density":0.104046329,"x":2014,"y":0.104046329},{"year":2015,"mind16":"Manufacturing, durable goods","total_emp":9336745.994000001,"union_emp":236185.8437,"real_med_wage":24.2695523,"union_density":0.101173639,"x":2015,"y":0.101173639},{"year":2016,"mind16":"Manufacturing, durable goods","total_emp":9346190.548,"union_emp":233077.4503,"real_med_wage":24.45533574,"union_density":0.099964445,"x":2016,"y":0.099964445},{"year":2017,"mind16":"Manufacturing, durable goods","total_emp":9339188.583000001,"union_emp":232977.4686,"real_med_wage":24.18247259,"union_density":0.10048601,"x":2017,"y":0.10048601},{"year":2018,"mind16":"Manufacturing, durable goods","total_emp":9470198.574999999,"union_emp":233455.0037,"real_med_wage":24.52687565,"union_density":0.098679341,"x":2018,"y":0.098679341},{"year":2019,"mind16":"Manufacturing, durable goods","total_emp":9613139.91,"union_emp":233118.4241,"real_med_wage":24.66944479,"union_density":0.09730187699999999,"x":2019,"y":0.09730187699999999},{"year":2020,"mind16":"Manufacturing, durable goods","total_emp":8784403.983999999,"union_emp":208279.8117,"real_med_wage":26.7761162,"union_density":0.095043562,"x":2020,"y":0.095043562},{"year":2021,"mind16":"Manufacturing, durable goods","total_emp":9034569.908,"union_emp":193352.0709,"real_med_wage":25.72921367,"union_density":0.085157687,"x":2021,"y":0.085157687},{"year":2022,"mind16":"Manufacturing, durable goods","total_emp":9266588.380000001,"union_emp":210123.4373,"real_med_wage":24.97500038,"union_density":0.08961175,"x":2022,"y":0.08961175}],"type":"line"},{"name":"Manufacturing, nondurable goods","data":[{"year":2000,"mind16":"Manufacturing, nondurable goods","total_emp":7641572.47,"union_emp":281917.2215,"real_med_wage":20.66073293,"union_density":0.147620284,"x":2000,"y":0.147620284},{"year":2001,"mind16":"Manufacturing, nondurable goods","total_emp":7258100.862,"union_emp":268461.9574,"real_med_wage":21.58393001,"union_density":0.147512903,"x":2001,"y":0.147512903},{"year":2002,"mind16":"Manufacturing, nondurable goods","total_emp":6946487.908,"union_emp":234796.8665,"real_med_wage":22.01901334,"union_density":0.134155327,"x":2002,"y":0.134155327},{"year":2003,"mind16":"Manufacturing, nondurable goods","total_emp":6907231.678,"union_emp":220229.6495,"real_med_wage":21.73493353,"union_density":0.128345385,"x":2003,"y":0.128345385},{"year":2004,"mind16":"Manufacturing, nondurable goods","total_emp":6675453.488,"union_emp":211561.9835,"real_med_wage":21.80217369,"union_density":0.127275014,"x":2004,"y":0.127275014},{"year":2005,"mind16":"Manufacturing, nondurable goods","total_emp":6439040.944,"union_emp":206513.431,"real_med_wage":21.53733426,"union_density":0.128350331,"x":2005,"y":0.128350331},{"year":2006,"mind16":"Manufacturing, nondurable goods","total_emp":6352860.393,"union_emp":188753.4903,"real_med_wage":21.8754727,"union_density":0.119271131,"x":2006,"y":0.119271131},{"year":2007,"mind16":"Manufacturing, nondurable goods","total_emp":6357533.465,"union_emp":185153.7227,"real_med_wage":21.2770222,"union_density":0.117789908,"x":2007,"y":0.117789908},{"year":2008,"mind16":"Manufacturing, nondurable goods","total_emp":6075657.515,"union_emp":176218.8154,"real_med_wage":21.66381415,"union_density":0.116264803,"x":2008,"y":0.116264803},{"year":2009,"mind16":"Manufacturing, nondurable goods","total_emp":5650263.267,"union_emp":164092.5461,"real_med_wage":21.9314981,"union_density":0.116444969,"x":2009,"y":0.116444969},{"year":2010,"mind16":"Manufacturing, nondurable goods","total_emp":5596736.953,"union_emp":167102.1763,"real_med_wage":21.71667484,"union_density":0.120302769,"x":2010,"y":0.120302769},{"year":2011,"mind16":"Manufacturing, nondurable goods","total_emp":5616750.329,"union_emp":156229.7936,"real_med_wage":21.99669348,"union_density":0.111702255,"x":2011,"y":0.111702255},{"year":2012,"mind16":"Manufacturing, nondurable goods","total_emp":5704386.176,"union_emp":146756.5892,"real_med_wage":21.30251054,"union_density":0.1038446,"x":2012,"y":0.1038446},{"year":2013,"mind16":"Manufacturing, nondurable goods","total_emp":5727084.403,"union_emp":159124.1198,"real_med_wage":21.44252179,"union_density":0.110462874,"x":2013,"y":0.110462874},{"year":2014,"mind16":"Manufacturing, nondurable goods","total_emp":5799511.257,"union_emp":148755.0875,"real_med_wage":21.71368298,"union_density":0.102089474,"x":2014,"y":0.102089474},{"year":2015,"mind16":"Manufacturing, nondurable goods","total_emp":5804351.336,"union_emp":137271.7666,"real_med_wage":22.16965916,"union_density":0.096964169,"x":2015,"y":0.096964169},{"year":2016,"mind16":"Manufacturing, nondurable goods","total_emp":5845160.863,"union_emp":134367.1645,"real_med_wage":21.98472977,"union_density":0.090883118,"x":2016,"y":0.090883118},{"year":2017,"mind16":"Manufacturing, nondurable goods","total_emp":5840601.666,"union_emp":142963.2402,"real_med_wage":22.7486607,"union_density":0.09790749,"x":2017,"y":0.09790749},{"year":2018,"mind16":"Manufacturing, nondurable goods","total_emp":5860152.389,"union_emp":136545.1611,"real_med_wage":22.28812603,"union_density":0.093882594,"x":2018,"y":0.093882594},{"year":2019,"mind16":"Manufacturing, nondurable goods","total_emp":5841442.342,"union_emp":132239.9797,"real_med_wage":22.93563775,"union_density":0.089791104,"x":2019,"y":0.089791104},{"year":2020,"mind16":"Manufacturing, nondurable goods","total_emp":5427988.939,"union_emp":119211.8351,"real_med_wage":23.77535334,"union_density":0.087760403,"x":2020,"y":0.087760403},{"year":2021,"mind16":"Manufacturing, nondurable goods","total_emp":5385958.48,"union_emp":119077.5346,"real_med_wage":23.72601432,"union_density":0.088203748,"x":2021,"y":0.088203748},{"year":2022,"mind16":"Manufacturing, nondurable goods","total_emp":5586461.749,"union_emp":114299.7386,"real_med_wage":23.07587528,"union_density":0.082797515,"x":2022,"y":0.082797515}],"type":"line"},{"name":"Medical, except hospital","data":[{"year":2000,"mind16":"Medical, except hospital","total_emp":6020707.584,"union_emp":124387.3297,"real_med_wage":19.21670277,"union_density":0.082498959,"x":2000,"y":0.082498959},{"year":2001,"mind16":"Medical, except hospital","total_emp":6211098.391,"union_emp":118804.319,"real_med_wage":19.67429406,"union_density":0.076657979,"x":2001,"y":0.076657979},{"year":2002,"mind16":"Medical, except hospital","total_emp":6625649.882,"union_emp":120554.583,"real_med_wage":19.62032771,"union_density":0.073197004,"x":2002,"y":0.073197004},{"year":2003,"mind16":"Medical, except hospital","total_emp":7193845.528,"union_emp":126022.5122,"real_med_wage":19.44522172,"union_density":0.070054174,"x":2003,"y":0.070054174},{"year":2004,"mind16":"Medical, except hospital","total_emp":7364078.45,"union_emp":133560.3559,"real_med_wage":19.85386772,"union_density":0.072599726,"x":2004,"y":0.072599726},{"year":2005,"mind16":"Medical, except hospital","total_emp":7619108.66,"union_emp":129480.4497,"real_med_wage":19.58135705,"union_density":0.067434929,"x":2005,"y":0.067434929},{"year":2006,"mind16":"Medical, except hospital","total_emp":7859957.923,"union_emp":129581.7834,"real_med_wage":19.79471601,"union_density":0.066396685,"x":2006,"y":0.066396685},{"year":2007,"mind16":"Medical, except hospital","total_emp":7956239.701,"union_emp":141177.0827,"real_med_wage":19.85808106,"union_density":0.07134138700000001,"x":2007,"y":0.07134138700000001},{"year":2008,"mind16":"Medical, except hospital","total_emp":8175066.407,"union_emp":145212.4588,"real_med_wage":19.45753492,"union_density":0.07184344500000001,"x":2008,"y":0.07184344500000001},{"year":2009,"mind16":"Medical, except hospital","total_emp":8483390.187999999,"union_emp":158249.8619,"real_med_wage":20.51731302,"union_density":0.074741681,"x":2009,"y":0.074741681},{"year":2010,"mind16":"Medical, except hospital","total_emp":8642453.596000001,"union_emp":140744.4264,"real_med_wage":20.23583873,"union_density":0.06475858600000001,"x":2010,"y":0.06475858600000001},{"year":2011,"mind16":"Medical, except hospital","total_emp":8589544.471000001,"union_emp":153332.083,"real_med_wage":19.60709834,"union_density":0.07189664900000001,"x":2011,"y":0.07189664900000001},{"year":2012,"mind16":"Medical, except hospital","total_emp":9220120.767000001,"union_emp":155467.9363,"real_med_wage":19.2055282,"union_density":0.068062525,"x":2012,"y":0.068062525},{"year":2013,"mind16":"Medical, except hospital","total_emp":9433535.157,"union_emp":150690.9908,"real_med_wage":19.41052581,"union_density":0.06396352199999999,"x":2013,"y":0.06396352199999999},{"year":2014,"mind16":"Medical, except hospital","total_emp":9145894.6,"union_emp":145414.0337,"real_med_wage":18.59657048,"union_density":0.06327335100000001,"x":2014,"y":0.06327335100000001},{"year":2015,"mind16":"Medical, except hospital","total_emp":9373306.865,"union_emp":161712.166,"real_med_wage":19.56769726,"union_density":0.069643829,"x":2015,"y":0.069643829},{"year":2016,"mind16":"Medical, except hospital","total_emp":9459797.452,"union_emp":149185.5728,"real_med_wage":19.55738839,"union_density":0.063302659,"x":2016,"y":0.063302659},{"year":2017,"mind16":"Medical, except hospital","total_emp":9600541.209000001,"union_emp":153031.9059,"real_med_wage":20.15088866,"union_density":0.06392611600000001,"x":2017,"y":0.06392611600000001},{"year":2018,"mind16":"Medical, except hospital","total_emp":9842376.219000001,"union_emp":149153.1152,"real_med_wage":19.86427586,"union_density":0.060746691,"x":2018,"y":0.060746691},{"year":2019,"mind16":"Medical, except hospital","total_emp":10057439.12,"union_emp":149230.8344,"real_med_wage":20.66216724,"union_density":0.059685626,"x":2019,"y":0.059685626},{"year":2020,"mind16":"Medical, except hospital","total_emp":9456223.961999999,"union_emp":144479.4629,"real_med_wage":21.79113265,"union_density":0.061078461,"x":2020,"y":0.061078461},{"year":2021,"mind16":"Medical, except hospital","total_emp":9847477.889,"union_emp":133614.389,"real_med_wage":21.59661774,"union_density":0.055033701,"x":2021,"y":0.055033701},{"year":2022,"mind16":"Medical, except hospital","total_emp":9929991.857999999,"union_emp":141426.03,"real_med_wage":21.13249969,"union_density":0.057106904,"x":2022,"y":0.057106904}],"type":"line"},{"name":"Personal services, including private household","data":[{"year":2000,"mind16":"Personal services, including private household","total_emp":2196086.967,"union_emp":12374.19876,"real_med_wage":12.7826535,"union_density":0.022736539,"x":2000,"y":0.022736539},{"year":2001,"mind16":"Personal services, including private household","total_emp":2175045.314,"union_emp":14761.03606,"real_med_wage":13.25449823,"union_density":0.027129304,"x":2001,"y":0.027129304},{"year":2002,"mind16":"Personal services, including private household","total_emp":2215951.383,"union_emp":9732.920611,"real_med_wage":13.86263252,"union_density":0.017567126,"x":2002,"y":0.017567126},{"year":2003,"mind16":"Personal services, including private household","total_emp":2143914.968,"union_emp":16989.29497,"real_med_wage":13.9861655,"union_density":0.031563737,"x":2003,"y":0.031563737},{"year":2004,"mind16":"Personal services, including private household","total_emp":2205335.379,"union_emp":13956.92948,"real_med_wage":13.9809114,"union_density":0.025459904,"x":2004,"y":0.025459904},{"year":2005,"mind16":"Personal services, including private household","total_emp":2204220.73,"union_emp":15116.50396,"real_med_wage":13.52831825,"union_density":0.027517824,"x":2005,"y":0.027517824},{"year":2006,"mind16":"Personal services, including private household","total_emp":2242114.223,"union_emp":12668.00314,"real_med_wage":13.84097923,"union_density":0.022632982,"x":2006,"y":0.022632982},{"year":2007,"mind16":"Personal services, including private household","total_emp":2285407.289,"union_emp":13317.30704,"real_med_wage":13.94109708,"union_density":0.023679678,"x":2007,"y":0.023679678},{"year":2008,"mind16":"Personal services, including private household","total_emp":2306738.273,"union_emp":14339.77145,"real_med_wage":13.6568792,"union_density":0.025079531,"x":2008,"y":0.025079531},{"year":2009,"mind16":"Personal services, including private household","total_emp":2246744.21,"union_emp":15331.22535,"real_med_wage":13.70461535,"union_density":0.026652298,"x":2009,"y":0.026652298},{"year":2010,"mind16":"Personal services, including private household","total_emp":2197684.776,"union_emp":12606.34896,"real_med_wage":13.44558338,"union_density":0.02297498,"x":2010,"y":0.02297498},{"year":2011,"mind16":"Personal services, including private household","total_emp":2211942.545,"union_emp":17236.39555,"real_med_wage":13.03703319,"union_density":0.030871802,"x":2011,"y":0.030871802},{"year":2012,"mind16":"Personal services, including private household","total_emp":2340085.585,"union_emp":13491.88779,"real_med_wage":12.78874312,"union_density":0.023332344,"x":2012,"y":0.023332344},{"year":2013,"mind16":"Personal services, including private household","total_emp":2335239.557,"union_emp":15418.61899,"real_med_wage":13.19523656,"union_density":0.026262488,"x":2013,"y":0.026262488},{"year":2014,"mind16":"Personal services, including private household","total_emp":2400047.132,"union_emp":17238.24521,"real_med_wage":13.02400154,"union_density":0.028655537,"x":2014,"y":0.028655537},{"year":2015,"mind16":"Personal services, including private household","total_emp":2353654.497,"union_emp":20839.99746,"real_med_wage":13.6771748,"union_density":0.035385913,"x":2015,"y":0.035385913},{"year":2016,"mind16":"Personal services, including private household","total_emp":2409354.779,"union_emp":16688.18014,"real_med_wage":14.11196416,"union_density":0.02808642,"x":2016,"y":0.02808642},{"year":2017,"mind16":"Personal services, including private household","total_emp":2452612.451,"union_emp":13058.05688,"real_med_wage":14.3593808,"union_density":0.021796301,"x":2017,"y":0.021796301},{"year":2018,"mind16":"Personal services, including private household","total_emp":2554897.087,"union_emp":13252.76982,"real_med_wage":14.5781764,"union_density":0.021053715,"x":2018,"y":0.021053715},{"year":2019,"mind16":"Personal services, including private household","total_emp":2583538.498,"union_emp":12779.47562,"real_med_wage":14.91247028,"union_density":0.019823508,"x":2019,"y":0.019823508},{"year":2020,"mind16":"Personal services, including private household","total_emp":2027957.098,"union_emp":6918.23512,"real_med_wage":15.96664396,"union_density":0.013557437,"x":2020,"y":0.013557437},{"year":2021,"mind16":"Personal services, including private household","total_emp":2196084.896,"union_emp":18694.19442,"real_med_wage":16.20827267,"union_density":0.034650142,"x":2021,"y":0.034650142},{"year":2022,"mind16":"Personal services, including private household","total_emp":2280175.024,"union_emp":12620.16993,"real_med_wage":15.9749999,"union_density":0.021991075,"x":2022,"y":0.021991075}],"type":"line"},{"name":"Professional services","data":[{"year":2000,"mind16":"Professional services","total_emp":21006367.92,"union_emp":170503.4367,"real_med_wage":23.91620773,"union_density":0.03241633,"x":2000,"y":0.03241633},{"year":2001,"mind16":"Professional services","total_emp":21160675.56,"union_emp":192459.8594,"real_med_wage":24.22354149,"union_density":0.036045266,"x":2001,"y":0.036045266},{"year":2002,"mind16":"Professional services","total_emp":21211963.26,"union_emp":177234.9861,"real_med_wage":24.52098762,"union_density":0.033473437,"x":2002,"y":0.033473437},{"year":2003,"mind16":"Professional services","total_emp":22629138.25,"union_emp":204065.3498,"real_med_wage":23.98199574,"union_density":0.036066458,"x":2003,"y":0.036066458},{"year":2004,"mind16":"Professional services","total_emp":22924944.4,"union_emp":199451.2924,"real_med_wage":23.35863701,"union_density":0.034588991,"x":2004,"y":0.034588991},{"year":2005,"mind16":"Professional services","total_emp":23408913.83,"union_emp":217540.2522,"real_med_wage":24.09861191,"union_density":0.037192502,"x":2005,"y":0.037192502},{"year":2006,"mind16":"Professional services","total_emp":24069157.8,"union_emp":214559.9507,"real_med_wage":24.07031603,"union_density":0.035557054,"x":2006,"y":0.035557054},{"year":2007,"mind16":"Professional services","total_emp":24600633.88,"union_emp":213635.2236,"real_med_wage":24.11803986,"union_density":0.034792846,"x":2007,"y":0.034792846},{"year":2008,"mind16":"Professional services","total_emp":24365711.91,"union_emp":205791.9874,"real_med_wage":24.58784817,"union_density":0.033830763,"x":2008,"y":0.033830763},{"year":2009,"mind16":"Professional services","total_emp":23318673.99,"union_emp":196179.3336,"real_med_wage":25.32494914,"union_density":0.033656461,"x":2009,"y":0.033656461},{"year":2010,"mind16":"Professional services","total_emp":23289140.42,"union_emp":216940.001,"real_med_wage":24.90956886,"union_density":0.037116491,"x":2010,"y":0.037116491},{"year":2011,"mind16":"Professional services","total_emp":23916140.45,"union_emp":192970.1292,"real_med_wage":24.83360051,"union_density":0.03227319,"x":2011,"y":0.03227319},{"year":2012,"mind16":"Professional services","total_emp":24828305.15,"union_emp":219634.0909,"real_med_wage":24.62201244,"union_density":0.035466066,"x":2012,"y":0.035466066},{"year":2013,"mind16":"Professional services","total_emp":25330008.92,"union_emp":223308.5534,"real_med_wage":24.26334542,"union_density":0.035305004,"x":2013,"y":0.035305004},{"year":2014,"mind16":"Professional services","total_emp":25636205.57,"union_emp":218101.2696,"real_med_wage":24.81776549,"union_density":0.034031426,"x":2014,"y":0.034031426},{"year":2015,"mind16":"Professional services","total_emp":26421898.26,"union_emp":252177.5357,"real_med_wage":24.99043995,"union_density":0.038257206,"x":2015,"y":0.038257206},{"year":2016,"mind16":"Professional services","total_emp":27388615.86,"union_emp":261150.1828,"real_med_wage":25.6722928,"union_density":0.038381246,"x":2016,"y":0.038381246},{"year":2017,"mind16":"Professional services","total_emp":27860018.96,"union_emp":246221.5514,"real_med_wage":26.3415,"union_density":0.035503641,"x":2017,"y":0.035503641},{"year":2018,"mind16":"Professional services","total_emp":28227345.27,"union_emp":250328.8407,"real_med_wage":26.8825317,"union_density":0.035483243,"x":2018,"y":0.035483243},{"year":2019,"mind16":"Professional services","total_emp":28936220.25,"union_emp":249867.262,"real_med_wage":27.60105938,"union_density":0.034578383,"x":2019,"y":0.034578383},{"year":2020,"mind16":"Professional services","total_emp":27673615.96,"union_emp":238767.4027,"real_med_wage":29.40284436,"union_density":0.034619734,"x":2020,"y":0.034619734},{"year":2021,"mind16":"Professional services","total_emp":28268097.34,"union_emp":249457.3468,"real_med_wage":28.58052455,"union_density":0.035323805,"x":2021,"y":0.035323805},{"year":2022,"mind16":"Professional services","total_emp":30024526.55,"union_emp":252642.0478,"real_med_wage":28.84597588,"union_density":0.033917615,"x":2022,"y":0.033917615}],"type":"line"},{"name":"Public administration","data":[{"year":2000,"mind16":"Public administration","total_emp":6075660.766,"union_emp":537841.9775,"real_med_wage":27.11208439,"union_density":0.356553471,"x":2000,"y":0.356553471},{"year":2001,"mind16":"Public administration","total_emp":6162318.169,"union_emp":557322.0821999999,"real_med_wage":27.46443361,"union_density":0.362686105,"x":2001,"y":0.362686105},{"year":2002,"mind16":"Public administration","total_emp":6184181.056,"union_emp":559964.4412999999,"real_med_wage":27.79887206,"union_density":0.360448235,"x":2002,"y":0.360448235},{"year":2003,"mind16":"Public administration","total_emp":6242509.321,"union_emp":561491.5710999999,"real_med_wage":27.33890687,"union_density":0.359119441,"x":2003,"y":0.359119441},{"year":2004,"mind16":"Public administration","total_emp":6365448.774,"union_emp":565608.1219,"real_med_wage":28.02686077,"union_density":0.355838683,"x":2004,"y":0.355838683},{"year":2005,"mind16":"Public administration","total_emp":6529651.327,"union_emp":576377.7236,"real_med_wage":27.41402272,"union_density":0.350378324,"x":2005,"y":0.350378324},{"year":2006,"mind16":"Public administration","total_emp":6524277.295,"union_emp":560901.2606,"real_med_wage":27.71114272,"union_density":0.34443612,"x":2006,"y":0.34443612},{"year":2007,"mind16":"Public administration","total_emp":6745852.552,"union_emp":575314.6518,"real_med_wage":28.30911767,"union_density":0.342531158,"x":2007,"y":0.342531158},{"year":2008,"mind16":"Public administration","total_emp":6763108.596,"union_emp":609716.607,"real_med_wage":27.3137584,"union_density":0.36022768,"x":2008,"y":0.36022768},{"year":2009,"mind16":"Public administration","total_emp":6874790.867,"union_emp":628520.6783,"real_med_wage":27.68648833,"union_density":0.365886503,"x":2009,"y":0.365886503},{"year":2010,"mind16":"Public administration","total_emp":6983226.052,"union_emp":604307.4350000001,"real_med_wage":27.56749284,"union_density":0.34783236,"x":2010,"y":0.34783236},{"year":2011,"mind16":"Public administration","total_emp":6846147.534,"union_emp":615770.9543,"real_med_wage":27.45255288,"union_density":0.362936329,"x":2011,"y":0.362936329},{"year":2012,"mind16":"Public administration","total_emp":6710532.816,"union_emp":580278.8792,"real_med_wage":27.55631537,"union_density":0.347500569,"x":2012,"y":0.347500569},{"year":2013,"mind16":"Public administration","total_emp":6702627.189,"union_emp":590319.9493,"real_med_wage":27.29332106,"union_density":0.352428605,"x":2013,"y":0.352428605},{"year":2014,"mind16":"Public administration","total_emp":6751063.746,"union_emp":599041.6649,"real_med_wage":27.28862015,"union_density":0.355372214,"x":2014,"y":0.355372214},{"year":2015,"mind16":"Public administration","total_emp":6922086.376,"union_emp":595999.877,"real_med_wage":28.00475944,"union_density":0.348680147,"x":2015,"y":0.348680147},{"year":2016,"mind16":"Public administration","total_emp":6854302.371,"union_emp":561119.9111,"real_med_wage":28.11843793,"union_density":0.327386757,"x":2016,"y":0.327386757},{"year":2017,"mind16":"Public administration","total_emp":7080669.551,"union_emp":596580.5236,"real_med_wage":28.73687582,"union_density":0.336199547,"x":2017,"y":0.336199547},{"year":2018,"mind16":"Public administration","total_emp":7414860.757,"union_emp":586490.8051999999,"real_med_wage":28.08422811,"union_density":0.319863347,"x":2018,"y":0.319863347},{"year":2019,"mind16":"Public administration","total_emp":7218399.168,"union_emp":592556.9469,"real_med_wage":28.42382846,"union_density":0.330034448,"x":2019,"y":0.330034448},{"year":2020,"mind16":"Public administration","total_emp":7494904.279,"union_emp":625544.2522,"real_med_wage":29.44634689,"union_density":0.334412007,"x":2020,"y":0.334412007},{"year":2021,"mind16":"Public administration","total_emp":7407829.262,"union_emp":594574.858,"real_med_wage":29.22253345,"union_density":0.321899002,"x":2021,"y":0.321899002},{"year":2022,"mind16":"Public administration","total_emp":7669573.512,"union_emp":602478.7275,"real_med_wage":28.8125,"union_density":0.314732962,"x":2022,"y":0.314732962}],"type":"line"},{"name":"Retail trade","data":[{"year":2000,"mind16":"Retail trade","total_emp":14028866.06,"union_emp":239008.4744,"real_med_wage":14.94535776,"union_density":0.067770409,"x":2000,"y":0.067770409},{"year":2001,"mind16":"Retail trade","total_emp":14264211.84,"union_emp":228680.0265,"real_med_wage":14.94548499,"union_density":0.064099002,"x":2001,"y":0.064099002},{"year":2002,"mind16":"Retail trade","total_emp":14204722.43,"union_emp":229683.5524,"real_med_wage":15.71098373,"union_density":0.06481516900000001,"x":2002,"y":0.06481516900000001},{"year":2003,"mind16":"Retail trade","total_emp":14577247.57,"union_emp":251541.3528,"real_med_wage":15.9773347,"union_density":0.069325341,"x":2003,"y":0.069325341},{"year":2004,"mind16":"Retail trade","total_emp":14644117.82,"union_emp":226188.0885,"real_med_wage":15.57372284,"union_density":0.061503007,"x":2004,"y":0.061503007},{"year":2005,"mind16":"Retail trade","total_emp":15124524.77,"union_emp":220707.492,"real_med_wage":15.05880744,"union_density":0.058678937,"x":2005,"y":0.058678937},{"year":2006,"mind16":"Retail trade","total_emp":15206306.48,"union_emp":205242.7549,"real_med_wage":15.3148206,"union_density":0.053947523,"x":2006,"y":0.053947523},{"year":2007,"mind16":"Retail trade","total_emp":14976808.2,"union_emp":215845.4813,"real_med_wage":15.34584849,"union_density":0.057495655,"x":2007,"y":0.057495655},{"year":2008,"mind16":"Retail trade","total_emp":15029472.27,"union_emp":223672.6425,"real_med_wage":15.02325032,"union_density":0.059384213,"x":2008,"y":0.059384213},{"year":2009,"mind16":"Retail trade","total_emp":14490793.34,"union_emp":213913.9421,"real_med_wage":15.48710687,"union_density":0.058758421,"x":2009,"y":0.058758421},{"year":2010,"mind16":"Retail trade","total_emp":14591574.25,"union_emp":195921.5277,"real_med_wage":14.83534225,"union_density":0.053877455,"x":2010,"y":0.053877455},{"year":2011,"mind16":"Retail trade","total_emp":14646880.62,"union_emp":202120.288,"real_med_wage":14.63831021,"union_density":0.055126141,"x":2011,"y":0.055126141},{"year":2012,"mind16":"Retail trade","total_emp":14932453.11,"union_emp":196714.8602,"real_med_wage":14.95115307,"union_density":0.052759404,"x":2012,"y":0.052759404},{"year":2013,"mind16":"Retail trade","total_emp":14822299.01,"union_emp":187568.5953,"real_med_wage":15.12773363,"union_density":0.050534255,"x":2013,"y":0.050534255},{"year":2014,"mind16":"Retail trade","total_emp":15328789.81,"union_emp":195137.2789,"real_med_wage":14.8859432,"union_density":0.051290806,"x":2014,"y":0.051290806},{"year":2015,"mind16":"Retail trade","total_emp":15446770.07,"union_emp":210150.9998,"real_med_wage":14.85272894,"union_density":0.054117378,"x":2015,"y":0.054117378},{"year":2016,"mind16":"Retail trade","total_emp":15345886.52,"union_emp":190683.3801,"real_med_wage":15.28229153,"union_density":0.049822196,"x":2016,"y":0.049822196},{"year":2017,"mind16":"Retail trade","total_emp":15453155.87,"union_emp":197436.4206,"real_med_wage":15.55744276,"union_density":0.050725101,"x":2017,"y":0.050725101},{"year":2018,"mind16":"Retail trade","total_emp":15351541.26,"union_emp":194901.9622,"real_med_wage":16.36099282,"union_density":0.050651082,"x":2018,"y":0.050651082},{"year":2019,"mind16":"Retail trade","total_emp":14967279.24,"union_emp":177797.4452,"real_med_wage":17.0452837,"union_density":0.047492653,"x":2019,"y":0.047492653},{"year":2020,"mind16":"Retail trade","total_emp":14410144.1,"union_emp":185178.8621,"real_med_wage":16.99144551,"union_density":0.051661533,"x":2020,"y":0.051661533},{"year":2021,"mind16":"Retail trade","total_emp":14968014.28,"union_emp":187302.1709,"real_med_wage":17.14609853,"union_density":0.049920452,"x":2021,"y":0.049920452},{"year":2022,"mind16":"Retail trade","total_emp":15098466.17,"union_emp":187563.2307,"real_med_wage":16.99166679,"union_density":0.049972166,"x":2022,"y":0.049972166}],"type":"line"},{"name":"Social Services","data":[{"year":2000,"mind16":"Social Services","total_emp":2989036.679,"union_emp":65072.15042,"real_med_wage":16.59914662,"union_density":0.08737041700000001,"x":2000,"y":0.08737041700000001},{"year":2001,"mind16":"Social Services","total_emp":3011123.319,"union_emp":57667.99223,"real_med_wage":16.59870967,"union_density":0.075912093,"x":2001,"y":0.075912093},{"year":2002,"mind16":"Social Services","total_emp":3064372.483,"union_emp":61824.38663,"real_med_wage":17.14222899,"union_density":0.081446299,"x":2002,"y":0.081446299},{"year":2003,"mind16":"Social Services","total_emp":2277998.682,"union_emp":50494.22903,"real_med_wage":15.96933861,"union_density":0.08836691100000001,"x":2003,"y":0.08836691100000001},{"year":2004,"mind16":"Social Services","total_emp":2293462.271,"union_emp":49047.40689,"real_med_wage":16.03715716,"union_density":0.086349498,"x":2004,"y":0.086349498},{"year":2005,"mind16":"Social Services","total_emp":2319921.652,"union_emp":51533.64664,"real_med_wage":16.56544152,"union_density":0.09039121999999999,"x":2005,"y":0.09039121999999999},{"year":2006,"mind16":"Social Services","total_emp":2470643.478,"union_emp":54033.52825,"real_med_wage":16.14973039,"union_density":0.087577558,"x":2006,"y":0.087577558},{"year":2007,"mind16":"Social Services","total_emp":2595022.622,"union_emp":51815.45956,"real_med_wage":16.20430723,"union_density":0.0810767,"x":2007,"y":0.0810767},{"year":2008,"mind16":"Social Services","total_emp":2566453.35,"union_emp":52325.50554,"real_med_wage":16.38278943,"union_density":0.080912396,"x":2008,"y":0.080912396},{"year":2009,"mind16":"Social Services","total_emp":2596778.669,"union_emp":58617.73551,"real_med_wage":16.43091273,"union_density":0.090289432,"x":2009,"y":0.090289432},{"year":2010,"mind16":"Social Services","total_emp":2721553.662,"union_emp":64762.30513,"real_med_wage":16.85926345,"union_density":0.09524553600000001,"x":2010,"y":0.09524553600000001},{"year":2011,"mind16":"Social Services","total_emp":2687503.664,"union_emp":64943.34168,"real_med_wage":16.33162091,"union_density":0.097421217,"x":2011,"y":0.097421217},{"year":2012,"mind16":"Social Services","total_emp":2753862.764,"union_emp":66833.20943,"real_med_wage":15.99713536,"union_density":0.09547140799999999,"x":2012,"y":0.09547140799999999},{"year":2013,"mind16":"Social Services","total_emp":2569968.344,"union_emp":56426.97479,"real_med_wage":16.39573816,"union_density":0.08787075699999999,"x":2013,"y":0.08787075699999999},{"year":2014,"mind16":"Social Services","total_emp":2555594.318,"union_emp":60893.21096,"real_med_wage":16.72977757,"union_density":0.09557539900000001,"x":2014,"y":0.09557539900000001},{"year":2015,"mind16":"Social Services","total_emp":2716606.086,"union_emp":66239.04442000001,"real_med_wage":16.70095797,"union_density":0.097735842,"x":2015,"y":0.097735842},{"year":2016,"mind16":"Social Services","total_emp":2872875.314,"union_emp":66730.22074999999,"real_med_wage":17.11189704,"union_density":0.09297430499999999,"x":2016,"y":0.09297430499999999},{"year":2017,"mind16":"Social Services","total_emp":2862872.331,"union_emp":71230.16982,"real_med_wage":17.11731299,"union_density":0.09844739199999999,"x":2017,"y":0.09844739199999999},{"year":2018,"mind16":"Social Services","total_emp":2946218.594,"union_emp":64549.12514,"real_med_wage":17.51836239,"union_density":0.088064564,"x":2018,"y":0.088064564},{"year":2019,"mind16":"Social Services","total_emp":3000920.405,"union_emp":60657.30569,"real_med_wage":17.69976712,"union_density":0.08049624,"x":2019,"y":0.08049624},{"year":2020,"mind16":"Social Services","total_emp":2719768.46,"union_emp":59815.05723,"real_med_wage":18.15291543,"union_density":0.088743339,"x":2020,"y":0.088743339},{"year":2021,"mind16":"Social Services","total_emp":2654313.191,"union_emp":51902.45246,"real_med_wage":18.64181074,"union_density":0.078131377,"x":2021,"y":0.078131377},{"year":2022,"mind16":"Social Services","total_emp":3017978.666,"union_emp":59921.2338,"real_med_wage":17.95714283,"union_density":0.081139986,"x":2022,"y":0.081139986}],"type":"line"},{"name":"Transportation","data":[{"year":2000,"mind16":"Transportation","total_emp":5796382.238,"union_emp":513499.8054,"real_med_wage":23.06267227,"union_density":0.352465655,"x":2000,"y":0.352465655},{"year":2001,"mind16":"Transportation","total_emp":5737893.736,"union_emp":501362.113,"real_med_wage":23.63076834,"union_density":0.35116856,"x":2001,"y":0.35116856},{"year":2002,"mind16":"Transportation","total_emp":5656140.873,"union_emp":494926.9359,"real_med_wage":23.58937503,"union_density":0.346962276,"x":2002,"y":0.346962276},{"year":2003,"mind16":"Transportation","total_emp":5223873.768,"union_emp":477373.8282,"real_med_wage":23.95800596,"union_density":0.363578598,"x":2003,"y":0.363578598},{"year":2004,"mind16":"Transportation","total_emp":5262682.079,"union_emp":460938.696,"real_med_wage":23.35084802,"union_density":0.352744733,"x":2004,"y":0.352744733},{"year":2005,"mind16":"Transportation","total_emp":5564608.62,"union_emp":460336.5691,"real_med_wage":22.59197783,"union_density":0.331603475,"x":2005,"y":0.331603475},{"year":2006,"mind16":"Transportation","total_emp":5644096.559,"union_emp":458083.5985,"real_med_wage":22.94557665,"union_density":0.325084606,"x":2006,"y":0.325084606},{"year":2007,"mind16":"Transportation","total_emp":5841150.026,"union_emp":445671.366,"real_med_wage":21.96520884,"union_density":0.306580826,"x":2007,"y":0.306580826},{"year":2008,"mind16":"Transportation","total_emp":5874746.19,"union_emp":455168.4435,"real_med_wage":22.84379305,"union_density":0.311375351,"x":2008,"y":0.311375351},{"year":2009,"mind16":"Transportation","total_emp":5404901.59,"union_emp":425733.7192,"real_med_wage":23.28893343,"union_density":0.314769469,"x":2009,"y":0.314769469},{"year":2010,"mind16":"Transportation","total_emp":5354965.504,"union_emp":408486.9603,"real_med_wage":22.92428049,"union_density":0.30511631,"x":2010,"y":0.30511631},{"year":2011,"mind16":"Transportation","total_emp":5444131.548,"union_emp":411520.1763,"real_med_wage":22.21358319,"union_density":0.304509533,"x":2011,"y":0.304509533},{"year":2012,"mind16":"Transportation","total_emp":5564311.598,"union_emp":410737.1874,"real_med_wage":22.40751692,"union_density":0.294233656,"x":2012,"y":0.294233656},{"year":2013,"mind16":"Transportation","total_emp":5690785.785,"union_emp":407346.4292,"real_med_wage":21.41728849,"union_density":0.284152639,"x":2013,"y":0.284152639},{"year":2014,"mind16":"Transportation","total_emp":5767025.903,"union_emp":403088.1449,"real_med_wage":21.09100503,"union_density":0.278261886,"x":2014,"y":0.278261886},{"year":2015,"mind16":"Transportation","total_emp":5799098.254,"union_emp":394724.5907,"real_med_wage":21.40775161,"union_density":0.274609994,"x":2015,"y":0.274609994},{"year":2016,"mind16":"Transportation","total_emp":6032775.331,"union_emp":411610.5594,"real_med_wage":21.39697549,"union_density":0.272683358,"x":2016,"y":0.272683358},{"year":2017,"mind16":"Transportation","total_emp":6120915.123,"union_emp":395361.8209,"real_med_wage":21.52629758,"union_density":0.255491883,"x":2017,"y":0.255491883},{"year":2018,"mind16":"Transportation","total_emp":6505173.819,"union_emp":403871.8478,"real_med_wage":21.01385171,"union_density":0.25142387,"x":2018,"y":0.25142387},{"year":2019,"mind16":"Transportation","total_emp":6760540.719,"union_emp":399170.4553,"real_med_wage":21.23097699,"union_density":0.240833595,"x":2019,"y":0.240833595},{"year":2020,"mind16":"Transportation","total_emp":6348660.262,"union_emp":390865.1107,"real_med_wage":22.65148346,"union_density":0.248263405,"x":2020,"y":0.248263405},{"year":2021,"mind16":"Transportation","total_emp":7095130.538,"union_emp":390575.4495,"real_med_wage":21.60742711,"union_density":0.221454747,"x":2021,"y":0.221454747},{"year":2022,"mind16":"Transportation","total_emp":7634656.773,"union_emp":402310.7077,"real_med_wage":20.24499989,"union_density":0.212781051,"x":2022,"y":0.212781051}],"type":"line"},{"name":"Wholesale trade","data":[{"year":2000,"mind16":"Wholesale trade","total_emp":4895219.97,"union_emp":68810.69988,"real_med_wage":22.11544281,"union_density":0.056922045,"x":2000,"y":0.056922045},{"year":2001,"mind16":"Wholesale trade","total_emp":4595664.126,"union_emp":68166.02509,"real_med_wage":22.83459938,"union_density":0.058768665,"x":2001,"y":0.058768665},{"year":2002,"mind16":"Wholesale trade","total_emp":4533572.594,"union_emp":60716.42243,"real_med_wage":22.88505412,"union_density":0.053591775,"x":2002,"y":0.053591775},{"year":2003,"mind16":"Wholesale trade","total_emp":3963435.408,"union_emp":53417.88382,"real_med_wage":23.58496135,"union_density":0.055105289,"x":2003,"y":0.055105289},{"year":2004,"mind16":"Wholesale trade","total_emp":4118319.684,"union_emp":54003.80307,"real_med_wage":23.33302085,"union_density":0.052714934,"x":2004,"y":0.052714934},{"year":2005,"mind16":"Wholesale trade","total_emp":4082460.441,"union_emp":65604.70779,"real_med_wage":22.57691186,"union_density":0.065134859,"x":2005,"y":0.065134859},{"year":2006,"mind16":"Wholesale trade","total_emp":4106770.387,"union_emp":53932.79489,"real_med_wage":23.31694015,"union_density":0.05241718,"x":2006,"y":0.05241718},{"year":2007,"mind16":"Wholesale trade","total_emp":3886156.46,"union_emp":56047.63191,"real_med_wage":22.67467941,"union_density":0.05656003,"x":2007,"y":0.05656003},{"year":2008,"mind16":"Wholesale trade","total_emp":3596325.246,"union_emp":53730.43653,"real_med_wage":22.83711089,"union_density":0.059041237,"x":2008,"y":0.059041237},{"year":2009,"mind16":"Wholesale trade","total_emp":3375070.446,"union_emp":47059.62575,"real_med_wage":23.29236203,"union_density":0.055226181,"x":2009,"y":0.055226181},{"year":2010,"mind16":"Wholesale trade","total_emp":3397676.918,"union_emp":46597.53671,"real_med_wage":23.34761642,"union_density":0.055927275,"x":2010,"y":0.055927275},{"year":2011,"mind16":"Wholesale trade","total_emp":3407656.12,"union_emp":41518.46662,"real_med_wage":22.21789158,"union_density":0.048422659,"x":2011,"y":0.048422659},{"year":2012,"mind16":"Wholesale trade","total_emp":3345797.306,"union_emp":47101.95941,"real_med_wage":23.02144559,"union_density":0.056216142,"x":2012,"y":0.056216142},{"year":2013,"mind16":"Wholesale trade","total_emp":3285726.392,"union_emp":46729.52213,"real_med_wage":22.63608624,"union_density":0.057461675,"x":2013,"y":0.057461675},{"year":2014,"mind16":"Wholesale trade","total_emp":3293160.129,"union_emp":32488.84711,"real_med_wage":22.52239987,"union_density":0.040058361,"x":2014,"y":0.040058361},{"year":2015,"mind16":"Wholesale trade","total_emp":3289280.205,"union_emp":34947.2111,"real_med_wage":22.87142097,"union_density":0.04174296,"x":2015,"y":0.04174296},{"year":2016,"mind16":"Wholesale trade","total_emp":3272102.218,"union_emp":34295.43475,"real_med_wage":23.46464762,"union_density":0.041675619,"x":2016,"y":0.041675619},{"year":2017,"mind16":"Wholesale trade","total_emp":3275090.81,"union_emp":39974.03382,"real_med_wage":23.92830919,"union_density":0.048435564,"x":2017,"y":0.048435564},{"year":2018,"mind16":"Wholesale trade","total_emp":3363155.337,"union_emp":40651.11295,"real_med_wage":23.36366121,"union_density":0.048462299,"x":2018,"y":0.048462299},{"year":2019,"mind16":"Wholesale trade","total_emp":3221667.657,"union_emp":39797.10692,"real_med_wage":23.84743675,"union_density":0.049938237,"x":2019,"y":0.049938237},{"year":2020,"mind16":"Wholesale trade","total_emp":3091431.004,"union_emp":36584.58795,"real_med_wage":24.88547091,"union_density":0.047037009,"x":2020,"y":0.047037009},{"year":2021,"mind16":"Wholesale trade","total_emp":3124587.621,"union_emp":35487.33662,"real_med_wage":24.28583659,"union_density":0.045394257,"x":2021,"y":0.045394257},{"year":2022,"mind16":"Wholesale trade","total_emp":2908878.966,"union_emp":28044.46584,"real_med_wage":23.95555592,"union_density":0.038915702,"x":2022,"y":0.038915702}],"type":"line"}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Advanced plot types and features will elevate your data visualization skills, allowing you to craft detailed and insightful plots tailored to diverse datasets and questions.</p>
</section>
</section>
<section id="resources-for-layer-based-chart-visualization" class="level2">
<h2 class="anchored" data-anchor-id="resources-for-layer-based-chart-visualization">7.0 Resources for layer-based chart visualization!</h2>
<ol type="1">
<li>Official Tidyverse page for ggplot2 <a href="https://ggplot2.tidyverse.org/index.html" class="uri">https://ggplot2.tidyverse.org/index.html</a></li>
<li><a href="https://r-graphics.org/">R Graphics Cookbook</a></li>
<li><a href="https://jkunst.com/highcharter/index.html">Highcharter</a> package for interactive charts</li>
</ol>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro_to_r.html" class="pagination-link" aria-label="Installing R &amp; RStudio EARN Talk">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Installing R &amp; RStudio EARN Talk</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./benchmarking_workshop.html" class="pagination-link" aria-label="Benchmarking Data">
        <span class="nav-page-text">Benchmarking Data</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>